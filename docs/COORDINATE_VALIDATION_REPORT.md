# Coordinate Validation Report

## Analysis Date: December 2, 2025

### Summary
Comprehensive validation of coordinates against State and Country columns revealed significant mismatches.

---

## ğŸ”´ Critical Findings

### Overall Statistics
- **Total rows analyzed:** 1,040
- **Valid coordinates:** 769 (74%)
- **Coordinate mismatches:** 257 (25%)
- **Rows skipped (missing data):** 14 (1%)

### Issue Severity
**25% of all rows have coordinates that do not match their stated state/country!**

---

## ğŸ“Š Top Mismatch Patterns

| State Listed â†’ Actual State | Occurrences | Examples |
|----------------------------|-------------|----------|
| **BC (Canada) â†’ Unknown/Other** | 8 | Canadian properties pointing to US locations |
| **MI â†’ NJ** | 8 | Michigan properties pointing to New Jersey |
| **ME â†’ MA** | 8 | Maine properties pointing to Massachusetts |
| **SD â†’ MA** | 6 | South Dakota pointing to Massachusetts |
| **UT â†’ WA** | 6 | Utah pointing to Washington |
| **NE â†’ AL** | 6 | Nebraska pointing to Alabama |
| **IL â†’ KY** | 6 | Illinois pointing to Kentucky |
| **OR â†’ CA** | 6 | Oregon pointing to California |
| **NY â†’ NE** | 5 | New York pointing to Nebraska |
| **FL â†’ GA** | 5 | Florida pointing to Georgia |

**Total unique mismatch patterns:** 30+

---

## ğŸ” Examples of Issues Found

### Example 1: Canadian Properties with US Coordinates
- **Adventure Domes** (New Denver, BC, Canada)
  - Listed: BC, Canada
  - Coordinates: `40.74, -73.99` (New York City area!)
  - Should be: British Columbia, Canada (~49Â°N, -117Â°W)

### Example 2: State-to-State Mismatches
- **Beaver Island Retreat** (Beaver Island, MI)
  - Listed: MI
  - Coordinates: `40.62, -73.94` (Brooklyn, NY area!)
  - Should be: Michigan (~45Â°N, -85Â°W)

- **Huttopia Southern Maine** (Sanford, ME)
  - Listed: ME
  - Coordinates: `41.74, -71.42` (Rhode Island area)
  - Should be: Maine (~43-47Â°N, -67-71Â°W)

### Example 3: Cross-Country Errors
- **Haida Gwaii Glamping** (Tlell, BC, Canada)
  - Listed: BC, Canada
  - Coordinates: `37.85, -86.03` (Kentucky, USA!)
  - Should be: British Columbia, Canada (~53Â°N, -132Â°W)

---

## ğŸ¯ Root Causes

1. **Data Entry Errors:** Coordinates copied from wrong properties
2. **Geocoding Failures:** Initial geocoding may have used incorrect addresses
3. **CSV Import Issues:** Data may have been mixed during import/export
4. **Missing Validation:** No validation was performed after coordinate entry

---

## âœ… Recommended Actions

### Immediate Fixes Needed

1. **High Priority - Re-geocode Mismatched Rows**
   - 257 rows need coordinate correction
   - Estimated time: ~4-5 minutes (1 second per row with rate limiting)
   - Use validated addresses to ensure accuracy

2. **Medium Priority - Verify Addresses**
   - Some addresses may be incorrect
   - Cross-reference with property websites/URLs
   - Verify city/state/zip combinations

3. **Low Priority - Implement Validation**
   - Add coordinate validation during data entry
   - Create automated checks after geocoding
   - Flag outliers for manual review

---

## ğŸ› ï¸ Available Tools

### Validation Script
`scripts/validate-coordinates-by-state.ts`
- Validates coordinates against state/country
- Generates detailed mismatch report
- Groups mismatches by pattern

### Fix Script
`scripts/fix-coordinate-mismatches.ts`
- Re-geocodes all addresses
- Uses OpenStreetMap Nominatim (free)
- Updates coordinates to match addresses

### Targeted Fix Script (Recommended)
A targeted script that only fixes the 257 mismatched rows would be faster.

---

## ğŸ“ˆ Impact Assessment

### Current State
- **74% accuracy** - Most coordinates are correct
- **25% require correction** - Significant portion needs fixing
- **High confidence addresses** - Address data appears mostly accurate

### After Fixes
- **Expected accuracy: 99%+**
- All coordinates will match their addresses
- Data ready for production use

---

## ğŸ“ Next Steps

1. âœ… **COMPLETED:** Validation analysis
2. â³ **TODO:** Fix 257 mismatched coordinates
3. â³ **TODO:** Re-validate after fixes
4. â³ **TODO:** Document fix process

---

## ğŸ“ Files Generated

1. **Validation Report:** `csv/Sage Database_ Glamping Sites  - Work In Progress (1)_FINAL_COORDINATE_MISMATCHES.txt`
   - Detailed list of all 257 mismatches
   - Row numbers and property information
   - Expected vs. actual coordinates

2. **This Report:** `docs/COORDINATE_VALIDATION_REPORT.md`

---

**Generated by:** Coordinate Validation Script  
**Script Location:** `scripts/validate-coordinates-by-state.ts`

